target_sources(core
    PRIVATE
        BatchDownloadWork.cpp
        BatchDownloadWork.h
        CheckSingleLedgerHeaderWork.cpp
        CheckSingleLedgerHeaderWork.h
        DownloadBucketsWork.cpp
        DownloadBucketsWork.h
        DownloadVerifyTxResultsWork.cpp
        DownloadVerifyTxResultsWork.h
        FetchRecentQsetsWork.cpp
        FetchRecentQsetsWork.h
        GetAndUnzipRemoteFileWork.cpp
        GetAndUnzipRemoteFileWork.h
        GetHistoryArchiveStateWork.cpp
        GetHistoryArchiveStateWork.h
        GetRemoteFileWork.cpp
        GetRemoteFileWork.h
        GunzipFileWork.cpp
        GunzipFileWork.h
        GzipFileWork.cpp
        GzipFileWork.h
        MakeRemoteDirWork.cpp
        MakeRemoteDirWork.h
        Progress.cpp
        Progress.h
        PublishWork.cpp
        PublishWork.h
        PutFilesWork.cpp
        PutFilesWork.h
        PutHistoryArchiveStateWork.cpp
        PutHistoryArchiveStateWork.h
        PutRemoteFileWork.cpp
        PutRemoteFileWork.h
        PutSnapshotFilesWork.cpp
        PutSnapshotFilesWork.h
        ResolveSnapshotWork.cpp
        ResolveSnapshotWork.h
        RunCommandWork.cpp
        RunCommandWork.h
        VerifyBucketWork.cpp
        VerifyBucketWork.h
        VerifyTxResultsWork.cpp
        VerifyTxResultsWork.h
        WriteSnapshotWork.cpp
        WriteSnapshotWork.h
        WriteVerifiedCheckpointHashesWork.cpp
        WriteVerifiedCheckpointHashesWork.h
    
        $<$<BOOL:${BUILD_TESTS_OPTION}>:${CMAKE_CURRENT_SOURCE_DIR}/test/HistoryWorkTests.cpp>
)